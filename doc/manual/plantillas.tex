% Este archivo es parte de libWiiEsp. Copyright (C) 2011 Ezequiel Vázquez de la Calle
% Licencia GFDL. Encontrará una copia de la licencia en el archivo fdl-1.3.tex

Con todo lo visto hasta el momento en este manual es posible comenzar el desarrollo de nuestra aplicación, ya que tenemos las herramientas preparadas, sabemos qué hay que tener en cuenta a la hora de utilizarlas, y además contamos con las clases de \emph{LibWiiEsp}, que nos facilitan (mucho) la vida a la hora de cargar recursos multimedia, establecer el soporte de idiomas, acceder a la tarjeta SD de la consola, dibujar texturas y animaciones en pantalla, etc.\\

Pero el punto más interesante de \emph{LibWiiEsp}, además de la abstracción que nos proporciona a la hora de trabajar con estos subsistemas de la videoconsola, está formado por las tres plantillas (clases abstractas) que ofrece para facilitar el desarrollo de un videojuego. Estas plantillas, que son \emph{Actor}, \emph{}Nivel y \emph{Juego}, permiten crear los distintos tipos de actores y niveles, además de la clase principal de nuestro programa, de una manera sencilla y efectiva.\\

Cabe destacar que, en el caso de que las plantillas ofrecidas no se adaptaran a las necesidades del videojuego que tenemos en mente, siempre podemos personalizar la clase que corresponda al derivarla, o bien modificando la clase original desde el código fuente de la biblioteca.\\

En esta sección del manual vamos a desgranar los detalles necesarios para poder sacar el máximo jugo a estas tres plantillas que nos facilitarán el desarrollo de nuestro videojuego:

\subsection{Sistemas de coordenadas}

En primer lugar, hay que comprender cómo funcionan los distintos sistemas de coordenadas que nos encontraremos a la hora de crear el universo de nuestro videojuego. La siguiente imagen ilustra los tres sistemas que pueden darse a la vez en el juego:

\figura{coordenadas.png}{scale=0.6}{Distintos sistemas de coordenadas en el universo del juego}{coordenadas}{H}

La imagen al completo representa un escenario completo de un juego. Este escenario es el universo del juego en sí, tiene forma rectangular, y su esquina superior izquierda es el origen de coordenadas, siendo la X positiva hacia la derecha, y la Y hacia abajo. Todos las parejas de coordenadas, en cualquiera de los tres sistemas que se emplean, se refieren al punto superior izquierdo del objeto al que pertenecen las coordenadas. En la imagen, se distinguen las coordenadas relativas al escenario con el color amarillo.\\

El rectángulo verde que se aprecia en el centro de la imagen representa la parte del escenario que se muestra en la pantalla (actua como si fuera una ventana desplazable). La pareja de coordenadas (x,y) en amarillo de este rectángulo indica la posición de desplazamiento de la pantalla, o \emph{scroll}, respecto al punto (0,0) del escenario. Jugando con el \emph{scroll} conseguimos que la pantalla \emph{se mueva} sobre el escenario, y muestre la parte que queramos de éste. Por otro lado, el vértice superior izquierdo de la pantalla es el origen de otro sistema de coordenadas, que indica la posición de un objeto (un actor, por ejemplo) dentro de la visualización en pantalla.\\

Teniendo en cuenta estos dos sistemas de coordenadas, se entiende fácilmente que el actor (el rectangulo rojo) tenga una pareja de coordenadas que indiquen su posición en el escenario (coordenadas en amarillo), y otra pareja de coordenadas (en verde) que denotan su posición en la pantalla. Sin embargo, las coordenadas de un actor respecto a la pantalla no se almacenan, si no que se calculan restando su posición en el escenario (amarillo) menos la posición del desplazamiento de la pantalla (coordenadas amarillas de la pantalla).\\

Además, el vértice superior izquierdo del rectángulo que representa al actor es el origen de un tercer sistema de coordenadas, que se utiliza como referencia para las cajas de colisión asociadas al actor.

\subsection{Actores}
\input{actores}

\subsection{Niveles}
\input{niveles}

\subsection{Juego}
\input{juego}

\clearpage

